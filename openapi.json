{
  "openapi": "3.0.3",
  "info": {
    "title": "Template App",
    "description": "The Template App API enables users and shops to interact with each other through a variety of endpoints. \n\n- Users can browse shops, view shop details and services, make reservations, and rate shops. \n- Shops can create an account for their shop, add services, create reservation plans, and more. \n\nThis API provides users and shops with a way to connect and engage with each other. It is designed to be simple, user-friendly, and efficient.\n",
    "version": "1.0.0"
  },
  "externalDocs": {
    "description": "Find out more about Template App",
    "url": "https://github.com/gurkanfikretgunak/template_app_backend"
  },
  "servers": [
    {
      "url": "http://localhost:3000/api/v1"
    }
  ],
  "tags": [
    {
      "name": "auth",
      "description": "User Authentication"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Register",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/User"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string",
                            "example": "john@email.com"
                          },
                          "name": {
                            "type": "string",
                            "example": "John"
                          },
                          "surname": {
                            "type": "string",
                            "example": "James"
                          },
                          "password": {
                            "type": "string"
                          },
                          "phoneNumber": {
                            "type": "string",
                            "example": 5432567655
                          },
                          "gender": {
                            "type": "boolean",
                            "example": 1
                          },
                          "favoriteShops": {
                            "type": "array",
                            "default": [],
                            "items": {
                              "type": "string"
                            }
                          },
                          "_id": {
                            "type": "string",
                            "example": "6404b18132bbf1d8a51dd711"
                          },
                          "createdAt": {
                            "type": "string",
                            "example": "2023-03-05T15:13:05.437Z"
                          },
                          "updatedAt": {
                            "type": "string",
                            "example": "2023-03-05T15:13:05.437Z"
                          },
                          "__v": {
                            "type": "number",
                            "default": 0
                          },
                          "accessToken": {
                            "type": "string"
                          },
                          "refreshToken": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "default": "Successfully registered"
                    },
                    "pagination": {
                      "type": "boolean",
                      "default": false
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Email already exists"
          },
          "422": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "john@email.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "john23"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "accessToken": {
                            "type": "string"
                          },
                          "refreshToken": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "default": "Successfully logged in"
                    },
                    "pagination": {
                      "type": "boolean",
                      "default": false
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/auth/refresh": {
      "patch": {
        "tags": [
          "auth"
        ],
        "summary": "Refresh tokens",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "refreshToken": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "accessToken": {
                            "type": "string"
                          },
                          "refreshToken": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "default": "Successfully logged in"
                    },
                    "pagination": {
                      "type": "boolean",
                      "default": false
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/auth/logout": {
      "patch": {
        "tags": [
          "auth"
        ],
        "summary": "Removes tokens",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "refreshToken": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful operation",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "message": {
                      "type": "string",
                      "default": "Successfully logged out"
                    },
                    "pagination": {
                      "type": "boolean",
                      "default": false
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Validation failed"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "John"
          },
          "surname": {
            "type": "string",
            "example": "James"
          },
          "email": {
            "type": "string",
            "example": "john@email.com"
          },
          "password": {
            "type": "string",
            "example": "john23"
          },
          "phoneNumber": {
            "type": "string",
            "example": "5326748091"
          },
          "gender": {
            "type": "boolean",
            "description": "0 = prefer not to say, 1 = male, 2 = female, 3 = other",
            "example": 1
          }
        },
        "xml": {
          "name": "user"
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}